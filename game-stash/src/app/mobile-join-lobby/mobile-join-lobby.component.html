<div class="join-lobby-container">
  <!-- Header -->
  <div class="header">
    <h1>Game Stash</h1>
    <p>Join a game lobby</p>
  </div>

  <!-- Main Form -->
  <div class="form-card">
    <!-- Player Name Input -->
    <div class="input-group">
      <label for="playerName">Your Name</label>
      <input
        id="playerName"
        type="text"
        [ngModel]="playerName()"
        (ngModelChange)="playerName.set($event)"
        (input)="formatPlayerName($event)"
        placeholder="Enter your display name"
        maxlength="20"
        class="input-field"
        [class.error]="playerName().length > 0 && !isPlayerNameValid()"
      />
      <small class="input-hint">{{ playerNameLength() }}/20 characters</small>
    </div>

    <!-- Lobby Code Input -->
    <div class="input-group">
      <label for="lobbyCode">Lobby Code</label>
      <input
        id="lobbyCode"
        type="text"
        [ngModel]="lobbyCode()"
        (ngModelChange)="lobbyCode.set($event)"
        (input)="formatLobbyCode($event)"
        placeholder="ABCD12"
        maxlength="6"
        class="input-field code-input"
        [class.error]="lobbyCode().length > 0 && !isLobbyCodeValid()"
      />
      <small class="input-hint">Enter the 6-character code from the host</small>
    </div>

    <!-- Error Message -->
    <div class="error-message" *ngIf="errorMessage()">
      {{ errorMessage() }}
    </div>

    <!-- Join Button -->
    <button
      class="join-btn"
      [disabled]="!isFormValid()"
      (click)="onJoinLobby()"
    >
      <span *ngIf="!isJoining()">Join Game</span>
      <span *ngIf="isJoining()" class="loading">
        <span class="spinner"></span>
        Joining...
      </span>
    </button>
  </div>
</div>
